const apStyle=d3.timeFormatLocale({dateTime:"%x, %X",date:"%b %e, %Y",periods:["a.m.","p.m."],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]});let formatDateMonth=apStyle.format("%b %e"),formatMonth=apStyle.format("%b");const chartWidth=$("#graphic").width();let tickCount=12;chartWidth<600&&(tickCount=4);const margin={top:10,right:30,bottom:30,left:72},width=chartWidth-margin.left-margin.right,height=350-margin.top-margin.bottom;let tooltip=d3.select("body").append("div").append("p").style("font-family","Poppins").style("position","absolute").style("z-index","10").style("visibility","hidden").style("background","#262B28").style("padding-top","5px").style("padding-bottom","5px").style("padding-right","5px").style("padding-left","5px").style("border-radius","5px").style("color","#F3F4F2");const svg=d3.select("#graphic").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform",`translate(${margin.left},${margin.top})`);let div=d3.select("#graphic").append("div").attr("class","tooltip").style("opacity",0).style("background","#262B28").style("padding","0px").style("border-radius","5px").style("color","#F3F4F2");d3.csv("https://raw.githubusercontent.com/aadittambe/thanksgiving-travel/main/tsa.csv",function(t){return{date:d3.timeParse("%-b. %-d")(t.formatted_date),throughput22:t["2022-throughput"],throughput21:t["2021-throughput"],throughput20:t["2020-throughput"]}}).then(function(t){t=_.sortBy(t,"date");let e=d3.scaleTime().domain(d3.extent(t,function(t){return t.date})).range([0,width]),o=svg.append("g").attr("transform","translate(0,"+height+")").call(d3.axisBottom(e).tickFormat(function(t){return formatDateMonth(t)}).ticks(tickCount)),r=(o.selectAll("text").attr("font-size","1.1em").attr("font-family","Poppins").attr("color","#0a0a0a"),d3.scaleLinear().domain([0,28e5]).range([height,0])),a=svg.append("g").call(d3.axisLeft(r));a.selectAll("text").attr("font-size","1.1em").attr("font-family","Poppins").attr("color","#0a0a0a");svg.append("path").datum(t.filter(function(t){return"undef"!==t.throughput22})).attr("fill","none").attr("stroke","#de5826").attr("stroke-width",1.5).attr("opacity","1").attr("d",d3.line().x(function(t){return e(t.date)}).y(function(t){return r(t.throughput22)})),svg.append("path").datum(t).attr("fill","none").attr("stroke","#8fd694").attr("stroke-width",1.5).attr("opacity",".75").attr("d",d3.line().x(function(t){return e(t.date)}).y(function(t){return r(t.throughput21)})),svg.append("path").datum(t).attr("fill","none").attr("stroke","#1979b9").attr("stroke-width",1.5).attr("opacity",".75").attr("d",d3.line().x(function(t){return e(t.date)}).y(function(t){return r(t.throughput20)})),svg.selectAll("dot").data(t.filter(function(t){return"undef"!==t.throughput22})).enter().append("circle").attr("r",2).attr("cx",function(t){return e(t.date)}).attr("cy",function(t){return r(t.throughput22)}).style("fill","#de5826").on("mouseover",function(t,e){var o=(Math.round(10*e.throughput22)/10).toLocaleString("en-US"),e=formatDateMonth(e.date);return tooltip.text(e+": "+o),tooltip.style("visibility","visible")}).on("mousemove",function(t){return tooltip.style("top",t.pageY-10+"px").style("left",t.pageX+10+"px")}).on("mouseout",function(){return tooltip.style("visibility","hidden")}),svg.selectAll("dot").data(t).enter().append("circle").attr("r",2).attr("cx",function(t){return e(t.date)}).attr("cy",function(t){return r(t.throughput21)}).style("fill","#8fd694").attr("opacity",".75").on("mouseover",function(t,e){var o=(Math.round(10*e.throughput21)/10).toLocaleString("en-US"),e=formatDateMonth(e.date);return tooltip.text(e+": "+o),tooltip.style("visibility","visible")}).on("mousemove",function(t){return tooltip.style("top",t.pageY-10+"px").style("left",t.pageX+10+"px")}).on("mouseout",function(){return tooltip.style("visibility","hidden")}),svg.selectAll("dot").data(t).enter().append("circle").attr("r",2).attr("cx",function(t){return e(t.date)}).attr("cy",function(t){return r(t.throughput20)}).style("fill","#1979b9").attr("opacity",".75").on("mouseover",function(t,e){var o=(Math.round(10*e.throughput20)/10).toLocaleString("en-US"),e=formatDateMonth(e.date);return tooltip.text(e+": "+o),tooltip.style("visibility","visible")}).on("mousemove",function(t){return tooltip.style("top",t.pageY-10+"px").style("left",t.pageX+10+"px")}).on("mouseout",function(){return tooltip.style("visibility","hidden")})}),$(document).ready(function(){new pym.Child({id:"testLine"})});