const apStyle=d3.timeFormatLocale({dateTime:"%x, %X",date:"%b %e, %Y",periods:["a.m.","p.m."],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]});let formatDateMonth=apStyle.format("%b %e"),formatMonth=apStyle.format("%b");const chartWidth=$("#graphic").width(),margin={top:10,right:30,bottom:20,left:50},width=chartWidth-margin.left-margin.right,height=400-margin.top-margin.bottom,svg=d3.select("#graphic").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform",`translate(${margin.left},${margin.top})`);let tooltip=d3.select("body").append("div").append("p").style("font-family","Poppins").style("position","absolute").style("z-index","10").style("visibility","hidden").style("background","#262B28").style("padding-top","5px").style("padding-bottom","5px").style("padding-right","5px").style("padding-left","5px").style("border-radius","5px").style("color","#F3F4F2");d3.csv("data/data.csv").then(function(t){var e=t.columns.slice(1),a=t.map(t=>t.group);const i=d3.scaleBand().domain(a).range([0,width]).padding([.2]),o=svg.append("g").attr("transform",`translate(0, ${height})`).call(d3.axisBottom(i).tickSizeOuter(0)),d=(o.selectAll("text").attr("font-size","1.1em"),d3.scaleLinear().domain([0,60]).range([height,0])),n=(svg.append("g").call(d3.axisLeft(d)),d3.scaleOrdinal().domain(e).range(["#de5826","#8fd694","#1979b9"]));a=d3.stack().keys(e)(t);svg.append("g").selectAll("g").data(a).join("g").attr("fill",t=>n(t.key)).selectAll("rect").data(t=>t).join("rect").attr("x",t=>i(t.data.group)).attr("y",t=>d(t[1])).attr("height",t=>d(t[0])-d(t[1])).attr("width",i.bandwidth()).on("mouseover",function(t,e){var a=d3.select(this.parentNode).datum().key,e=e.data[a];tooltip.html("Category: "+a+"<br>Value: "+e).style("visibility","visible")}).on("mousemove",function(t,e){tooltip.style("top",t.pageY-10+"px").style("left",t.pageX+10+"px")}).on("mouseleave",function(t,e){tooltip.style("visibility","hidden")})}),$(document).ready(function(){new pym.Child({id:"testStackedBar"})});