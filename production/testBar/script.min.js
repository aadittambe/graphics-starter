const apStyle=d3.timeFormatLocale({dateTime:"%x, %X",date:"%b %e, %Y",periods:["a.m.","p.m."],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]});let formatDateMonth=apStyle.format("%b %e"),formatMonth=apStyle.format("%b");const chartWidth=$("#graphic").width();console.log(chartWidth);let margin={top:20,right:20,bottom:20,left:50},width=chartWidth-margin.left-margin.right,height=400-margin.top-margin.bottom;chartWidth<600&&(console.log("hi"),margin.bottom=100);const svg=d3.select("#graphic").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform",`translate(${margin.left},${margin.top})`);d3.csv("data/data.csv").then(function(t){const a=d3.scaleBand().range([0,width]).domain(t.map(t=>t.country)).padding(.2),e=(svg.append("g").attr("transform",`translate(0, ${height})`).call(d3.axisBottom(a)).selectAll("text").attr("transform",function(){if(chartWidth<600)return"translate(-10,10)rotate(-90)"}).style("text-anchor",function(){if(chartWidth<600)return"end"}),d3.scaleLinear().domain([0,13e3]).range([height,0]));svg.append("g").call(d3.axisLeft(e));let r=d3.scaleLinear().range(["#fbd603","#990000"]).domain([0,13e3]);svg.selectAll("mybar").data(t).join("rect").attr("x",t=>a(t.country)).attr("y",t=>e(t.value)).attr("width",a.bandwidth()).attr("height",t=>height-e(t.value)).attr("fill",function(t){return r(t.value)})}),d3.select("#legend").style("display","none"),$(document).ready(function(){new pym.Child({id:"testBar"})});